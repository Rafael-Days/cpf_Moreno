
<script>
var cpf;
var tamCpf = 0;
var cpfNove;
var igualCpf;
var cpfArray = 0;

function input(){
cpfArray = 0;
cpf = prompt("Digite seu cpf");
tamCpf = cpf.length;

if (tamCpf !== 11) {
	invTam();
} else if (!Number.isInteger(Number(cpf))){
	invCarc();
} else if (cpfArray == 0) {
	invIgual();
} else
	invCalc();
} 

function invTam() {
	alert("CPF inválido por tamanho! Por favor, insira um CPF com 11 dígitos numéricos.");
	input();
}

function invCarc() {
	alert("CPF inválido por caracter! Por favor, insira um CPF com 11 dígitos NUMERICOS.");
	input();
}

function invIgual() {

cpfArray = Array.from(cpf);

	if(cpfArray[0] === cpfArray[5]) {
		alert("CPF inválido por caracteres iguais! Tente novamente:");
		input();
	}
	else {
		invCalc();
	}
}

// CALCULO DA VALIDAÇÃO PRINCIPAL
function invCalc() {	
	var i, resto;
	var soma;
	
	cpfNove = '';
	
	for (i = 1; i <= 9; i++) {
		cpfNove = parseInt(cpf.substring(0,9));
		console.log("AAA");
	}
	
		resto = cpfNove % 11;

	if (resto === 10 || resto === 11) {
		resto = 0;
	}

	if (resto !== parseInt(cpf.substring(10, 11))) {
		alert("CPF inválido por calculo! Por favor, insira um CPF com 11 dígitos numéricos.");
		return input();
	} else {

	soma = 0;

	for (i = 1; i <= 10; i++) {
		soma = soma + parseInt(cpf.substring(i - 1, i)) * (12 - i);
	}

	resto = (soma * 10) % 11;

	if (resto === 10 || resto === 11) {
		resto = 0;
	}

	if (resto !== parseInt(cpf.substring(10, 11))) {
		alert("CPF inválido por calculo! Por favor, insira um CPF com 11 dígitos numéricos.")
		return input();
	}
	}
	return valido();
}

function valido() {
	document.write("SEU CPF É VALIDO!");
}

input();

</script>

